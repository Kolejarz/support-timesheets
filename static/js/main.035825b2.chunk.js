(this["webpackJsonpsupport-timesheets"]=this["webpackJsonpsupport-timesheets"]||[]).push([[0],{39:function(e,t,a){e.exports=a(50)},44:function(e,t,a){},45:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),l=a.n(c),s=(a(44),a(45),a(5)),o=a(58),u=a(57),i=a(36),m=a(56),d=a(52);var f=function(e){var t=e.currentUser,a=e.setCurrentUser,n=e.setActiveTab;return r.a.createElement(m.a,{inline:!0},r.a.createElement("span",{className:"font-weight-bold"},t.username),r.a.createElement(d.a,{variant:"outline-danger",className:"ml-2",onClick:function(){a(""),n("")}},"Logout"))},E=a(31);var b=function(e){var t=e.setCurrentUser,a=Object(n.useState)(""),c=Object(s.a)(a,2),l=c[0],o=c[1],u=Object(n.useState)([]),i=Object(s.a)(u,2),f=i[0],b=i[1];Object(n.useEffect)((function(){fetch("https://raw.githubusercontent.com/Kolejarz/effective-spoon/master/users.json").then((function(e){return e.json()})).then((function(e){b(e)}))}),[]);var h=f.filter((function(e){return e.active})).sort((function(e,t){return e.firstname>t.firstname?1:-1})).map((function(e){return r.a.createElement("option",{key:e.id,value:e.username},e.admin?"*":"",e.firstname," ",e.lastname)}));return r.a.createElement(m.a,{inline:!0},r.a.createElement(E.a,{as:"select",className:"mr-sm-2",onChange:function(e){o(e.target.value)},value:l},r.a.createElement("option",{value:""}),h),r.a.createElement(d.a,{variant:"outline-success",onClick:function(){var e=f.find((function(e){return e.username===l}));t(e)}},"Login"))};var h=function(e){var t=e.currentUser,a=e.setCurrentUser,n=e.setActiveTab;return t?r.a.createElement(f,{currentUser:t,setCurrentUser:a,setActiveTab:n}):r.a.createElement(b,{setCurrentUser:a,setActiveTab:n})};var y=function(e){var t=e.currentUser,a=e.setCurrentUser,n=e.activeTab,c=e.setActiveTab,l=[{text:"Calendar",route:"calendar",admin:!1},{text:"Summary",route:"summary",admin:!1},{text:"Manage users",route:"users",admin:!0},{text:"Manage time slots",route:"slots",admin:!0},{text:"Generate support",route:"support",admin:!0}].filter((function(e){return t&&((null===t||void 0===t?void 0:t.admin)||!e.admin)})).map((function(e,t){return r.a.createElement(o.a.Item,{key:t,className:(null===n||void 0===n?void 0:n.route)===e.route?"font-weight-bold":""},r.a.createElement(o.a.Link,{onClick:function(){return c(e)}},e.text))}));return r.a.createElement(u.a,{bg:"light"},r.a.createElement(i.a,null,"Support Timesheets"),r.a.createElement(u.a.Toggle,null),l,r.a.createElement(o.a,{className:"mr-auto"}),r.a.createElement(h,{currentUser:t,setCurrentUser:a,setActiveTab:c}))},v=a(53),g=a(54),p=a(32);var k=function(e){var t=e.setSelectedUser,a=Object(n.useState)(e.userDetails),c=Object(s.a)(a,2),l=c[0],o=c[1];function u(e,t){var a=JSON.parse(JSON.stringify(null!==l&&void 0!==l?l:{}));a[e]=t,o(a)}return Object(n.useEffect)((function(){o(e.userDetails)}),[e.userDetails,e.selectedUserId]),r.a.createElement(m.a,null,r.a.createElement(m.a.Group,{controlId:"formBasicUsername"},r.a.createElement(m.a.Label,null,"Username"),r.a.createElement(m.a.Control,{type:"text",value:(null===l||void 0===l?void 0:l.username)||"",onChange:function(e){return u("username",e.target.value)}})),r.a.createElement(m.a.Row,null,r.a.createElement(p.a,null,r.a.createElement(m.a.Group,{controlId:"formBasicFirstname"},r.a.createElement(m.a.Label,null,"First name"),r.a.createElement(m.a.Control,{type:"text",value:(null===l||void 0===l?void 0:l.firstname)||"",onChange:function(e){return u("firstname",e.target.value)}}))),r.a.createElement(p.a,null,r.a.createElement(m.a.Group,{controlId:"formBasicLastname"},r.a.createElement(m.a.Label,null,"Last name"),r.a.createElement(m.a.Control,{type:"text",value:(null===l||void 0===l?void 0:l.lastname)||"",onChange:function(e){return u("lastname",e.target.value)}})))),r.a.createElement(m.a.Row,null,r.a.createElement(p.a,{xs:4},r.a.createElement(m.a.Group,{controlId:"formBasicActive"},r.a.createElement(m.a.Switch,{label:"Active",checked:(null===l||void 0===l?void 0:l.active)||!1,onChange:function(e){return u("active",e.target.checked)}}))),r.a.createElement(p.a,{xs:4},r.a.createElement(m.a.Group,{controlId:"formBasicAdmin"},r.a.createElement(m.a.Switch,{label:"Admin access",checked:(null===l||void 0===l?void 0:l.admin)||!1,onChange:function(e){return u("admin",e.target.checked)}})))),r.a.createElement(d.a,{variant:"outline-secondary",onClick:function(){return t(0)}},"Cancel")," ",r.a.createElement(d.a,{variant:"primary",onClick:function(){e.saveUser(l),e.setSelectedUser(0),o({})}},(null===l||void 0===l?void 0:l.id)?"Save changes":"Add"))},N=a(38);var w=function(e){var t=e.userData,a=e.active;return r.a.createElement("tr",{className:a?"table-primary":"",onClick:e.onClick},r.a.createElement("td",null,t.id),r.a.createElement("td",null,t.username),r.a.createElement("td",null,t.active?"\u2714":""),r.a.createElement("td",null,t.admin?"\u2714":""))};var D=function(e){var t=e.users,a=e.selectedUserId,n=t.map((function(t){return r.a.createElement(w,{userData:t,active:t.id===a,key:t.id,onClick:function(){return e.setSelectedUser(t.id)}})}));return r.a.createElement("div",null,r.a.createElement(N.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Username"),r.a.createElement("th",null,"Active"),r.a.createElement("th",null,"Admin"))),r.a.createElement("tbody",null,n)))};var C=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(0),o=Object(s.a)(l,2),u=o[0],i=o[1];return Object(n.useEffect)((function(){fetch("https://raw.githubusercontent.com/Kolejarz/effective-spoon/master/users.json").then((function(e){return e.json()})).then((function(e){c(e)}))}),[]),r.a.createElement(v.a,null,r.a.createElement(g.a,null,r.a.createElement(p.a,null,r.a.createElement(D,{users:a,selectedUserId:u,setSelectedUser:function(e){return i(e)}})),r.a.createElement(p.a,null,r.a.createElement(k,{selectedUserId:u,userDetails:a.find((function(e){return e.id===u})),setSelectedUser:function(e){return i(e)},saveUser:function(e){if(console.log(e),e){var t=a.find((function(t){return t.id===e.id}));if(t){var n=a.slice(),r=n.indexOf(t);n[r]=e,c(n)}else e.id=a.length+1,c(a.concat(e));i(0)}}}))))},T=a(9),S=function(e){var t=e.dayNumber,a=e.className,n=e.text,c=e.textClassName,l=e.onClickHandler;return r.a.createElement("td",{style:{userSelect:"none",cursor:"pointer"},className:a,onClick:function(){return l(t)}},t,r.a.createElement("br",null),r.a.createElement("small",null,r.a.createElement("span",{className:"badge badge-pill badge-".concat(c," m-1")},n)))};var O=function(e){var t=new Date(e.selectedDate);return r.a.createElement(N.a,{bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map((function(e){return r.a.createElement("th",{style:{width:"14.28%"},key:e},e)})))),r.a.createElement("tbody",null,function(){for(var a=t.getDay()-1>=0?t.getDay()-1:6,n=new Date(t.getFullYear(),t.getMonth()+1,0).getDate(),c=Object(T.a)(Array(a).fill(0)).concat(Object(T.a)(Array(n).keys()).map((function(e){return e+1}))),l=[],s=0;s<c.length/7;s++){var o,u=c.slice(7*s,7*s+7);u=7===u.length?u:(o=u).concat.apply(o,Object(T.a)(Array(7-u.length).fill(0))),l.push(u.map((function(t,a){var n=e.days.find((function(e){return e.date.getDate()===t}));return n?r.a.createElement(S,{key:a,dayNumber:n.date.getDate(),text:n.text,textClassName:n.textClassName,className:n.selected?"table-dark":n.className,onClickHandler:e.onClickHandler}):r.a.createElement("td",{key:a,className:"table-secondary"})})))}return l.map((function(e,t){return r.a.createElement("tr",{className:"",key:t},e)}))}()))},j=function(e){return r.a.createElement(m.a,{inline:!0},r.a.createElement(E.a,{as:"select",onChange:function(t){var a=t.target.value;e.setSelectedDate(a)},value:e.selectedDate},function(){var e=new Date;return[-2,-1,0,1,2,3].map((function(t){var a=new Date(e.getFullYear(),e.getMonth()+t,1);return r.a.createElement("option",{key:t,value:a.toDateString()},a.toLocaleString("en-US",{month:"long"})," ",a.toLocaleString("en-US",{year:"numeric"}))}))}()))},x=function(e){var t=e.selectedDays.map((function(e){return r.a.createElement("span",{key:e,className:"badge badge-pill badge-primary m-1"},e.toDateString().slice(0,10))}));return r.a.createElement(g.a,null,t)},A=function(e){return r.a.createElement("div",null,r.a.createElement(d.a,{onClick:function(){return e.setTimeSlot("workday")},className:"my-2 btn-success",block:!0},"WORKDAY"),r.a.createElement(d.a,{onClick:function(){return e.setTimeSlot("weekend")},className:"my-2 btn-warning",block:!0},"WEEKEND"),r.a.createElement(d.a,{onClick:function(){return e.setTimeSlot("holiday")},className:"my-2 btn-primary",block:!0},"HOLIDAY"),r.a.createElement(d.a,{onClick:function(){return e.setTimeSlot("disabled")},className:"my-2 btn-danger",block:!0},"DISABLED"),r.a.createElement(d.a,{onClick:function(){return e.setTimeSlot("clear")},className:"my-2 btn-light",block:!0},"CLEAR SELECTION"))};var U=function(){var e=Object(n.useState)(new Date((new Date).getFullYear(),(new Date).getMonth()+1,1).toDateString()),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),o=Object(s.a)(l,2),u=o[0],i=o[1],m=u.filter((function(e){return e.selected})).map((function(e){return e.date}));return Object(n.useEffect)((function(){i([]),fetch("https://github.com/Kolejarz",{mode:"no-cors"}).then((function(e){var t=function(){var e=new Date(a),t=new Date(e.getFullYear(),e.getMonth()+1,0).getDate();return Object(T.a)(Array(t).keys()).map((function(t){var a={date:new Date(e.getFullYear(),e.getMonth(),t+1),startTime:8,endTime:21};return 0===a.date.getDay()||6===a.date.getDay()?a.dayType="weekend":a.dayType="workday",a}))}().map((function(e){var t={date:e.date,text:"".concat(e.startTime,":00-").concat(e.endTime,":00"),selected:!1};switch(e.dayType){case"workday":t.className="table-success",t.textClassName="success";break;case"weekend":t.className="table-warning",t.textClassName="warning";break;default:t.className="table-info",t.textClassName="info"}return t}));i(t)}))}),[a]),r.a.createElement(v.a,null,r.a.createElement(g.a,null,r.a.createElement(p.a,{className:"col-4"},r.a.createElement(j,{selectedDate:a,setSelectedDate:c}))),r.a.createElement(g.a,{className:"my-2"},r.a.createElement(p.a,{className:"col-9"},r.a.createElement(O,{selectedDate:a,days:u,onClickHandler:function(e){var t=u.slice(),a=t.find((function(t){return t.date.getDate()===e})),n=t[t.indexOf(a)].selected;t[t.indexOf(a)].selected=!n,i(t)}})),r.a.createElement(p.a,{className:"col-3"},r.a.createElement(A,{setTimeSlot:function(e){var t=u.slice();if("clear"!==e){var a,n,r=0;switch(e){case"workday":a=8,n=21,r="success";break;case"weekend":a=8,n=21,r="warning";break;case"holiday":a=9,n=20,r="primary";break;case"disabled":a=0,n=0,r="danger";break;default:r="light"}t.filter((function(e){return!0===e.selected})).forEach((function(e){e.startTime=a,e.endTime=n,e.text=e.startTime?"".concat(e.startTime,":00-").concat(e.endTime,":00"):"N/A",e.className="table-".concat(r),e.textClassName=r}))}t.filter((function(e){return!0===e.selected})).forEach((function(e){return e.selected=!1})),i(t)}}),r.a.createElement(x,{selectedDays:m}))))},M=function(e){var t=e.setAvailability,a=e.clearSelection;return r.a.createElement("div",null,r.a.createElement(d.a,{onClick:function(){return t("available")},className:"my-2 btn-success",block:!0},"AVAILABLE"),r.a.createElement(d.a,{onClick:function(){return t("ifNeeded")},className:"my-2 btn-warning",block:!0},"IF NEEDED"),r.a.createElement(d.a,{onClick:function(){return t("notAvailable")},className:"my-2 btn-danger",block:!0},"NOT AVAILABLE"),r.a.createElement(d.a,{onClick:function(){return a()},className:"my-2 btn-light",block:!0},"CLEAR SELECTION"))},L=function(){var e=Object(n.useState)(new Date((new Date).getFullYear(),(new Date).getMonth()+1,1).toDateString()),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),o=Object(s.a)(l,2),u=o[0],i=o[1],m=Object(n.useState)([{dayType:"workday",className:"success"},{dayType:"weekend",className:"warning"},{dayType:"holiday",className:"primary"},{dayType:"disabled",className:"danger"}]),d=Object(s.a)(m,1)[0],f=Object(n.useState)([{choice:"available",className:"success"},{choice:"ifNeeded",className:"warning"},{choice:"notAvailable",className:"danger"}]),E=Object(s.a)(f,1)[0];return Object(n.useEffect)((function(){i([]),fetch("https://github.com/Kolejarz",{mode:"no-cors"}).then((function(e){var t=function(){var e=new Date(a),t=new Date(e.getFullYear(),e.getMonth()+1,0).getDate();return Object(T.a)(Array(t).keys()).map((function(t){var a={date:new Date(e.getFullYear(),e.getMonth(),t+1),choice:"notAvailable",startTime:8,endTime:21};return 0===a.date.getDay()||6===a.date.getDay()?a.dayType="weekend":11===a.date.getDate()?a.dayType="holiday":a.dayType="workday",a}))}().map((function(e){var t={date:e.date,text:"".concat(e.startTime,":00-").concat(e.endTime,":00"),selected:!1,choice:"notAvailable"};switch(t.className="table-"+E.find((function(e){return t.choice===e.choice})).className,e.dayType){case"workday":t.textClassName="success";break;case"weekend":t.textClassName="warning";break;case"holiday":t.textClassName="primary";break;default:t.textClassName="light"}return t}));i(t)}))}),[a,E]),r.a.createElement(v.a,null,r.a.createElement(g.a,null,r.a.createElement(p.a,{className:"col-4"},r.a.createElement(j,{selectedDate:a,setSelectedDate:c}))),r.a.createElement(g.a,{className:"my-2"},r.a.createElement(p.a,{className:"col-9"},r.a.createElement(O,{selectedDate:a,days:u,onClickHandler:function(e){var t=u.slice(),a=t.find((function(t){return t.date.getDate()===e})),n=t[t.indexOf(a)].selected;t[t.indexOf(a)].selected=!n,i(t)}}),d.map((function(e){var t=e.dayType,a=e.className;return r.a.createElement("span",{key:t,className:"badge badge-pill badge-".concat(a," m-1")},t.toUpperCase())}))),r.a.createElement(p.a,{className:"col-3"},r.a.createElement(M,{setAvailability:function(e){var t=u.slice();t.filter((function(e){return e.selected})).forEach((function(t){t.className="table-"+E.find((function(t){return e===t.choice})).className,t.selected=!1})),i(t)},clearSelection:function(){var e=u.slice();e.forEach((function(e){return e.selected=!1})),i(e)}}))))},I=a(55),F=a(59),Y=function(e){var t=e.hoursType,a=e.hoursCount,n=e.color;return r.a.createElement(F.a,{border:n,className:"text-".concat(n," text-center")},r.a.createElement(F.a.Header,null,r.a.createElement("h4",null,t.toUpperCase(),"S")),r.a.createElement(F.a.Body,null,r.a.createElement("h1",null,r.a.createElement("strong",null,a))))},B=function(e){var t=e.selectedDate,a=Object(n.useState)([]),c=Object(s.a)(a,2),l=c[0],o=c[1],u=Object(n.useState)([{hoursType:"workday",color:"success"},{hoursType:"weekend",color:"warning"},{hoursType:"holiday",color:"primary"}]),i=Object(s.a)(u,1)[0];return Object(n.useEffect)((function(){o([]),fetch("https://github.com/Kolejarz",{mode:"no-cors"}).then((function(e){var t='{"hoursSummary":[{"hoursType":"workday","hoursCount":'.concat(Math.floor(20*Math.random()+6),'},{"hoursType":"weekend","hoursCount":').concat(Math.floor(10*Math.random()+6),'},{"hoursType":"holiday","hoursCount":').concat(Math.floor(5*Math.random()+6),"}]}"),a=JSON.parse(t).hoursSummary.map((function(e){return{hoursType:e.hoursType,hoursCount:e.hoursCount,color:i.find((function(t){return t.hoursType===e.hoursType})).color}}));o(a)}))}),[i,t]),r.a.createElement(I.a,null,l.map((function(e){return r.a.createElement(Y,{key:e.hoursType,hoursType:e.hoursType,hoursCount:e.hoursCount,color:e.color})})))},H=function(){var e=Object(n.useState)(new Date((new Date).getFullYear(),(new Date).getMonth(),1).toDateString()),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),o=Object(s.a)(l,2),u=o[0],i=o[1];return Object(n.useEffect)((function(){i([]),fetch("https://github.com/Kolejarz",{mode:"no-cors"}).then((function(e){var t=function(){var e=new Date(a),t=new Date(e.getFullYear(),e.getMonth()+1,0).getDate();return Object(T.a)(Array(t).keys()).map((function(t){var a={date:new Date(e.getFullYear(),e.getMonth(),t+1),startTime:8,endTime:21};return Math.random()>.6&&(0===a.date.getDay()||6===a.date.getDay()?a.dayType="weekend":a.dayType="workday"),a}))}().map((function(e){var t={date:e.date,text:"".concat(e.startTime,":00-").concat(e.endTime,":00"),selected:!1};switch(e.dayType){case"workday":t.className="table-success",t.textClassName="success";break;case"weekend":t.className="table-warning",t.textClassName="warning";break;case"holiday":t.className="table-primary",t.textClassName="primary";break;default:t.className="table-secondary",t.textClassName="secondary"}return t}));i(t)}))}),[a]),r.a.createElement(v.a,null,r.a.createElement(g.a,{className:"mb-3"},r.a.createElement("h2",{className:"text-center mr-3"},"My support hours for "),r.a.createElement(j,{setSelectedDate:c})),r.a.createElement(g.a,null,r.a.createElement(p.a,null,r.a.createElement(B,{selectedDate:a}))),r.a.createElement(g.a,{className:"mt-3"},r.a.createElement(p.a,null,r.a.createElement(O,{days:u,selectedDate:a,onClickHandler:function(){}}))))},K=function(){var e=Object(n.useState)(new Date((new Date).getFullYear(),(new Date).getMonth(),1).toDateString()),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),o=Object(s.a)(l,2),u=o[0],i=o[1],m=function(){var e=Object(T.a)(Array(31).keys()).map((function(e){var t=new Date(a);if(Math.random()>.11){var n=new Date(t.getFullYear(),t.getMonth(),e+1);return{date:n,text:["rlewandowski","kglik","aboruc"][Math.floor(3*Math.random())],className:"table-success",textClassName:n.getDay()%6?"success":"warning"}}return{date:new Date(t.getFullYear(),t.getMonth(),e+1),text:"N/A",className:"table-danger",textClassName:"danger"}}));i(e)};return Object(n.useEffect)((function(){i([]),fetch("https://github.com/Kolejarz",{mode:"no-cors"}).then((function(e){m()}))}),[a]),r.a.createElement(v.a,null,r.a.createElement(g.a,{className:"mb-3"},r.a.createElement("h2",{className:"mr-3"},"Support calendar for: "),r.a.createElement(j,{selectedDate:a,setSelectedDate:c}),r.a.createElement("div",{className:"ml-3 my-auto"},r.a.createElement(d.a,{onClick:m},"GENERATE"))),r.a.createElement(g.a,null,r.a.createElement(O,{selectedDate:a,days:u,onClickHandler:function(){}})))};var z=function(e){var t,a=e.activeTab;switch(null===a||void 0===a?void 0:a.route){case"calendar":t=r.a.createElement(L,null);break;case"summary":t=r.a.createElement(H,null);break;case"users":t=r.a.createElement(C,null);break;case"slots":t=r.a.createElement(U,null);break;case"support":t=r.a.createElement(K,null);break;default:t=r.a.createElement("h1",{className:"text-center"},"Select user from list to display navigation")}return r.a.createElement(v.a,{className:"mt-5"},t)};var G=function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),o=Object(s.a)(l,2),u=o[0],i=o[1];return r.a.createElement("div",null,r.a.createElement(y,{currentUser:a,setCurrentUser:c,activeTab:u,setActiveTab:i}),r.a.createElement(z,{activeTab:u}))};var R=function(){return r.a.createElement(G,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(49);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.035825b2.chunk.js.map